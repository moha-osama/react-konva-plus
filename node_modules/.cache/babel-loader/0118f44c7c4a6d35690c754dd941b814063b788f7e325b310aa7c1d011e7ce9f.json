{"ast":null,"code":"import { runPolling } from \"./poller\";\nimport { validateWaiterOptions } from \"./utils\";\nimport { waiterServiceDefaults, WaiterState } from \"./waiter\";\nconst abortTimeout = async abortSignal => {\n  return new Promise(resolve => {\n    abortSignal.onabort = () => resolve({\n      state: WaiterState.ABORTED\n    });\n  });\n};\nexport const createWaiter = async (options, input, acceptorChecks) => {\n  const params = {\n    ...waiterServiceDefaults,\n    ...options\n  };\n  validateWaiterOptions(params);\n  const exitConditions = [runPolling(params, input, acceptorChecks)];\n  if (options.abortController) {\n    exitConditions.push(abortTimeout(options.abortController.signal));\n  }\n  if (options.abortSignal) {\n    exitConditions.push(abortTimeout(options.abortSignal));\n  }\n  return Promise.race(exitConditions);\n};","map":{"version":3,"names":["runPolling","validateWaiterOptions","waiterServiceDefaults","WaiterState","abortTimeout","abortSignal","Promise","resolve","onabort","state","ABORTED","createWaiter","options","input","acceptorChecks","params","exitConditions","abortController","push","signal","race"],"sources":["D:/Work/00-Mogul/konva v2/node_modules/@smithy/util-waiter/dist-es/createWaiter.js"],"sourcesContent":["import { runPolling } from \"./poller\";\nimport { validateWaiterOptions } from \"./utils\";\nimport { waiterServiceDefaults, WaiterState } from \"./waiter\";\nconst abortTimeout = async (abortSignal) => {\n    return new Promise((resolve) => {\n        abortSignal.onabort = () => resolve({ state: WaiterState.ABORTED });\n    });\n};\nexport const createWaiter = async (options, input, acceptorChecks) => {\n    const params = {\n        ...waiterServiceDefaults,\n        ...options,\n    };\n    validateWaiterOptions(params);\n    const exitConditions = [runPolling(params, input, acceptorChecks)];\n    if (options.abortController) {\n        exitConditions.push(abortTimeout(options.abortController.signal));\n    }\n    if (options.abortSignal) {\n        exitConditions.push(abortTimeout(options.abortSignal));\n    }\n    return Promise.race(exitConditions);\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,UAAU;AACrC,SAASC,qBAAqB,QAAQ,SAAS;AAC/C,SAASC,qBAAqB,EAAEC,WAAW,QAAQ,UAAU;AAC7D,MAAMC,YAAY,GAAG,MAAOC,WAAW,IAAK;EACxC,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC5BF,WAAW,CAACG,OAAO,GAAG,MAAMD,OAAO,CAAC;MAAEE,KAAK,EAAEN,WAAW,CAACO;IAAQ,CAAC,CAAC;EACvE,CAAC,CAAC;AACN,CAAC;AACD,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,EAAEC,cAAc,KAAK;EAClE,MAAMC,MAAM,GAAG;IACX,GAAGb,qBAAqB;IACxB,GAAGU;EACP,CAAC;EACDX,qBAAqB,CAACc,MAAM,CAAC;EAC7B,MAAMC,cAAc,GAAG,CAAChB,UAAU,CAACe,MAAM,EAAEF,KAAK,EAAEC,cAAc,CAAC,CAAC;EAClE,IAAIF,OAAO,CAACK,eAAe,EAAE;IACzBD,cAAc,CAACE,IAAI,CAACd,YAAY,CAACQ,OAAO,CAACK,eAAe,CAACE,MAAM,CAAC,CAAC;EACrE;EACA,IAAIP,OAAO,CAACP,WAAW,EAAE;IACrBW,cAAc,CAACE,IAAI,CAACd,YAAY,CAACQ,OAAO,CAACP,WAAW,CAAC,CAAC;EAC1D;EACA,OAAOC,OAAO,CAACc,IAAI,CAACJ,cAAc,CAAC;AACvC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}